# ADR 0005: パイプラインビルダ＋単層キャッシュ設計

- ステータス: Accepted
- 日付: 2025-09-04

## 背景
複層キャッシュや暗黙のミュータビリティはデバッグを難しくする。再現性重視で予測可能な実行が望ましい。

## 決定
`E.pipeline...build()` により `Pipeline(steps)` を生成。キャッシュは単層（`(geometry_hash, pipeline_key) -> Geometry`）。

## 影響
キャッシュ挙動が明確で、性能と理解のバランスが良い。

## 代替案
ステップ毎キャッシュ/複層キャッシュは複雑化の割に効果が限定的と判断。


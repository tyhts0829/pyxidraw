# 既定の設定（テスト/ハードニング用途も兼ねる）
# - このファイルはベース設定です。ローカル上書きはリポジトリ直下の `config.yaml` を使用してください。
# - `util.utils.load_config()` は (1) このファイル → (2) ルートの `config.yaml` の順にディクショナリを上書きマージします。

# tests/integration/test_load_config_fallback.py が存在確認に使うマーカー
test_marker: true

# 画面/描画の既定
canvas:
  background_color: [1.0, 1.0, 1.0, 1.0]
  # 線色の既定（API 未指定時のフォールバック）。Hex/0–1/0–255 いずれも可。
  line_color: "#000000"

canvas_controller:
  fps: 60

midi:
  enabled_default: true
  strict_default: false

midi_devices:
  - port_name: "ArcController OUT"
    mode: "14bit"
    controller_name: "arc"
    cc_map:
      1: 1
      2: 2
      3: 3
      4: 4
      5: 5
      6: 6
      7: 7
      8: 8
      9: 9
      10: 10
      11: 11
      12: 12
      13: 13
      14: 14
      15: 15
      16: 16
  - port_name: "TX-6 Bluetooth"
    mode: "7bit"
    controller_name: "tx6"
    cc_map:
      1: "f1" # fader 1
      2: "f2" # fader 2
      3: "f3" # fader 3
      4: "f4" # fader 4
      5: "f5" # fader 5
      6: "f6" # fader 6
      7: "k1t" # knob 1 top
      8: "k2t" # knob 2 top
      9: "k3t" # knob 3 top
      10: "k4t" # knob 4 top
      11: "k5t" # knob 5 top
      12: "k6t" # knob 6 top
      13: "k1m" # knob 1 middle
      14: "k2m" # knob 2 middle
      15: "k3m" # knob 3 middle
      16: "k4m" # knob 4 middle
      17: "k5m" # knob 5 middle
      18: "k6m" # knob 6 middle
      19: "k1b" # knob 1 bottom
      20: "k2b" # knob 2 bottom
      21: "k3b" # knob 3 bottom
      22: "k4b" # knob 4 bottom
      23: "k5b" # knob 5 bottom
      24: "k6b" # knob 6 bottom
      25: "b1" # button 1
      26: "b2" # button 2
      27: "b3" # button 3
      28: "b4" # button 4
      29: "b5" # button 5
      30: "b6" # button 6
      31: "k" # knob
      # 32: "b"  # button
      33: "fx1" # fx1 button
      34: "fx2" # fx2 button
      35: "shift" # shift button
      # 36: "aux"  # aux button
      # 37: "cue"  # cue button
  - port_name: "Grid"
    mode: "14bit"
    controller_name: "grid"
    cc_range: [1, 16]
    cc_map:
      1: k11
      2: k12
      3: k13
      4: k14
      5: k21
      6: k22
      7: k23
      8: k24
      9: k31
      10: k32
      11: k33
      12: k34
      13: k41
      14: k42
      15: k43
      16: k44
  - port_name: "ROLI Lightpad BLOCK"
    mode: "14bit"
    controller_name: "roli"
    cc_range: [17, 32]
  - port_name: "16n Port 1"
    mode: "14bit"
    controller_name: "fb16n"
    cc_range: [1, 17]
    cc_map:
      1: 1
      2: 2
      3: 3
      4: 4
      5: 5
      6: 6
      7: 7
      8: 8
      9: 9
      10: 10
      11: 11
      12: 12
      13: 13
      14: 14
      15: 15
      16: 16
  - port_name: "Music Thing m0 Plus 0"
    mode: "7bit"
    controller_name: "fb8n"
    cc_range: [1, 33]

# HUD（横棒メータ）の既定
hud:
  # HUD で使用するフォント名/サイズ（任意）
  # - 未指定時は従来挙動（コード既定値）
  font_name: "HackGen Console NF"
  font_size: 12
  # フォント登録方針（任意）: true なら search_dirs 配下を全登録、false なら要求 family に部分一致するもののみ登録。
  load_all_fonts: false
  # HUD テキスト色（Hex/0–1/0–255）
  text_color: "#0000009B"
  meters:
    # メモリ正規化スケール（system_total/process_peak/custom）
    mem_scale: custom
    # カスタム上限（mem_scale=custom 時のみ有効, bytes）
    mem_custom_bytes: 2048000000
    # 頂点/ラインの固定上限（100%相当）
    vertex_max: 1000000
    line_max: 1000000
    # 見た目（色/寸法/位置）
    meter_width_px: 160
    meter_height_px: 6
    meter_gap_px: 6
    meter_alpha_fg: 220
    meter_alpha_bg: 120
    meter_color_fg: [50, 50, 50]
    # 左端からの余白（inline_below 固定時のバー X 開始位置）
    meter_left_margin_px: 130
    # 値の平滑化（EMA）
    smoothing_alpha: 0.5

# フォント探索ディレクトリ（任意）
# - ここで指定したディレクトリ（複数可）を再帰的に探索し、`.ttf/.otf/.ttc` を検出して
#   Text シェイプや HUD 用に優先登録する。
# - 相対パスはプロジェクトルート基準。`~` と環境変数は展開される。
fonts:
  search_dirs:
    - data/fonts
  # OS のフォントディレクトリを探索に含めるか（Text シェイプで有効）。
  include_os: true

# IO 関連の既定
# - `io.cc_dir`: CC スナップショットの保存先。相対パスは実行CWD基準。
io:
  cc_dir: data/cc

# Parameter GUI の外観既定
parameter_gui:
  window:
    width: 600
    height: 920
    title: "Parameters"
  layout:
    # セル余白/アイテム間隔/フレーム内余白/ウィンドウ内余白の基本単位（未指定時のフォールバック）
    padding: 2
    row_height: 28
    # Dear PyGui のフォント名（fonts.search_dirs から登録済みのものを推奨）
    font_name: "HackGen Console NF"
    font_size: 12
    value_precision: 3
    # ラベル列の比率（0.1..0.9）。残りは Bars:CC で配分
    label_column_ratio: 0.3
    # 残り領域に対する Bars:CC の比率（Bars 側の割合）
    bars_cc_ratio: 0.8
    # CC 入力ボックスの固定幅（px）
    cc_box_width: 24
    # 表のセル余白（X, Y）: パラメータ行の行間/バー間に適用
    cell_padding: [1, 1]
    # グループ内のウィジェット間隔（X, Y）: CC 入力の横並びに適用
    item_spacing: [2, 2]
    # ウィジェット枠内の内側余白（X, Y）: InputText/Checkbox/Slider 等の内側
    frame_padding: [2, 2]
    # ウィンドウ内側の余白（X, Y）: ビューポートの端からの余白
    window_padding: [12, 12]
  theme:
    style:
      frame_rounding: 0
      grab_rounding: 0
      grab_min_size: 12
    colors:
      text: [242, 242, 242, 255]
      window_bg: [33, 33, 33, 255]
      frame_bg: [51, 51, 51, 255]
      frame_bg_hovered: [71, 71, 71, 255]
      frame_bg_active: [84, 84, 84, 255]
      header: [56, 56, 56, 255]
      header_hovered: [71, 71, 71, 255]
      header_active: [84, 84, 84, 255]
      accent: [63, 114, 174, 255]
      accent_active: [51, 115, 230, 255]
